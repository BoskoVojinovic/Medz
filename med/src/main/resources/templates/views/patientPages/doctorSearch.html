<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragments/main_layout}">
<head>
<meta charset="UTF-8">
<title>MEDz</title>
</head>
<body>
	<div layout:fragment="content" class="container">

		<div class="card">
			<div class="card card-body">
					<div class="alert alert-primary">
						<h2 class="text-center">Current exam configuration:</h2>
						<table class="table table-hover">
							<thead>
								<tr>
									<th>
										<strong class="text text-center">Selected exam:</strong>
										<p th:text="${type.name}"/>
									</th>
									<th>
										<strong class="text text-center">Preferred date:</strong>
										<p th:text="${date}"/>
									</th>
									<th>
										<strong class="text text-center">Clinic:</strong>
										<p th:text="${clinic.name}"/>
									</th>
								</tr>
							</thead>
						</table>
					</div>
					
					<h2 class="text-center">Doctor selection:</h2>
					
					<div class="progress">
  						<div class="progress-bar" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
					</div>
					<form th:action="${#httpServletRequest.requestURI}">
					<table class="table table-hover">
						<thead>
							<tr>
							
								<th><input class="form-control" name="name" id="name" th:value="${searchName}" placeholder="Filter by name"/></th>
								<th><input class="form-control" name="lastName" id="lastName" th:value="${searchLastName}" placeholder="Filter by Last Name"/></th>
								<th><input class="form-control" name="rating" id="rating" th:value="${searchRating}" placeholder="Filter by Min Rating"/></th>
								<th><input type="submit" value="Filter" class="btn btn-primary"></th>
							</tr>
							<tr>
								<th>Name</th>
								<th>Specialty</th>
								<th>Average Review</th>
								<th></th>
							</tr>
						</thead>

						<tbody>
							<tr th:each="doc:${doctors}">
								<td th:text="'Dr. '+${doc.name}+' '+${doc.lastName}"></td>
								<td th:text="${doc.specialty.name}"></td>
								<td th:text="${doc.avgReview}"></td>
								<td><a class="btn btn-primary" th:href="${#httpServletRequest.requestURI} +'/'+ ${doc.IDNum}" role="button">Select</a></td>
							</tr>
						</tbody>
					</table>
					</form>
			</div>
		</div>
	</div>
</body>
</html>